/* Base theme settings */
:root {
  color-scheme: light;
}

/* Dark theme switch via data attribute on <html> */
[data-theme="dark"] {
  color-scheme: dark;
}

/* General page colors */
[data-theme="dark"],
[data-theme="dark"] body {
  background-color: #121212;
  color: #e0e0e0;
}

/* Links */
[data-theme="dark"] a {
  color: #8ab4f8;
}

/* Common Bulma containers */
[data-theme="dark"] .box,
[data-theme="dark"] .panel,
[data-theme="dark"] .card,
[data-theme="dark"] .menu,
[data-theme="dark"] .dropdown-content,
[data-theme="dark"] .message,
[data-theme="dark"] .notification,
[data-theme="dark"] .panel-block,
[data-theme="dark"] .modal-card,
[data-theme="dark"] .modal-content,
[data-theme="dark"] .content,
[data-theme="dark"] .tags,
[data-theme="dark"] .table-container {
  background-color: #1e1e1e;
  color: inherit;
  border-color: #2a2a2a;
}

/* Navbar + Footer base */
[data-theme="dark"] .navbar,
[data-theme="dark"] .footer {
  background-color: #1a1a1a;
  color: inherit;
  border-color: #2a2a2a;
}

/* Tables */
[data-theme="dark"] table.table {
  background-color: #1e1e1e;
  color: inherit;
}
[data-theme="dark"] .table thead th {
  color: #e0e0e0;
  border-color: #2a2a2a;
}
[data-theme="dark"] .table td,
[data-theme="dark"] .table th {
  border-color: #2a2a2a;
}

/* Forms */
[data-theme="dark"] input.input,
[data-theme="dark"] textarea.textarea,
[data-theme="dark"] select,
[data-theme="dark"] .select select,
[data-theme="dark"] .file-cta,
[data-theme="dark"] .file-name {
  background-color: #222;
  border-color: #333;
  color: #e0e0e0;
}

/* Modals */
[data-theme="dark"] .modal-card-head,
[data-theme="dark"] .modal-card-foot {
  background-color: #1e1e1e;
  border-color: #2a2a2a;
  color: inherit;
}

/* Buttons - keep Bulma variants, but ensure default contrast */
[data-theme="dark"] .button:not(.is-primary):not(.is-link):not(.is-info):not(.is-success):not(.is-warning):not(.is-danger):not(.is-light):not(.is-dark) {
  background-color: #2a2a2a;
  color: #e0e0e0;
  border-color: #3a3a3a;
}

/* Helper: thin border on boxes/cards in dark */
[data-theme="dark"] .box,
[data-theme="dark"] .card,
[data-theme="dark"] .panel {
  box-shadow: none;
  border: 1px solid #2a2a2a;
}

/* Platform themes */
/* 'web' platform uses default Bulma styles with no overrides */

/* iPhone-like look: system font + rounder corners */
[data-platform="iphone"] {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}
[data-platform="iphone"] .button,
[data-platform="iphone"] .box,
[data-platform="iphone"] .card,
[data-platform="iphone"] .panel,
[data-platform="iphone"] .menu,
[data-platform="iphone"] .dropdown-content {
  border-radius: 12px;
}

/* Android/Material-ish look: Roboto + subtle elevation on buttons */
[data-platform="android"] {
  font-family: Roboto, "Helvetica Neue", Arial, sans-serif;
}
[data-platform="android"] .button {
  border-radius: 4px;
  box-shadow: 0 1px 2px rgba(0,0,0,.12), 0 1px 3px rgba(0,0,0,.2);
}

/* Dark + platform combos (small tweaks) */
[data-theme="dark"][data-platform="iphone"] .navbar,
[data-theme="dark"][data-platform="iphone"] .footer {
  background-color: #171717;
}
[data-theme="dark"][data-platform="android"] .button {
  background-color: #242424;
  border-color: #333;
  color: #e0e0e0;
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Slightly round and pad floating toggles for better touch targets */
#platform-toggle,
#theme-toggle {
  border-radius: 9999px;
  padding: 0.4rem 0.6rem;
}
